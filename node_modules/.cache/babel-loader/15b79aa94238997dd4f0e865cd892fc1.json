{"ast":null,"code":"import _slicedToArray from\"/Users/maks/Git/todoapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';export default function AddTask(_ref){var onAddTask=_ref.onAddTask,list=_ref.list;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),popUp=_useState2[0],showPopUp=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],setLoad=_useState6[1];var addTask=function addTask(){if(!inputValue){alert(\"A task without a name? Excuese me mister\");return;}setLoad(true);var data={id:Math.random()*1000,listId:list.id,text:inputValue,completed:false};axios.post('https://tojustdoit-api.herokuapp.com/tasks-add',data).then(function(response){console.log(response);//Perform action based on response\n}).catch(function(error){console.log(error);//Perform action based on error\n}).then(function(){onAddTask(data,list.id);setInputValue(\"\");showPopUp(false);}).catch(function(){alert('Database error :((');}).finally(function(){setLoad(false);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-task\"},!popUp?/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){showPopUp(true);},className:\"add-task__title\"},\" + Add new task\"):load?/*#__PURE__*/React.createElement(\"div\",{className:\"add-task__title\"},\" Loading... \"):/*#__PURE__*/React.createElement(\"div\",{className:\"add-task__popup\"},/*#__PURE__*/React.createElement(\"input\",{className:\"field\",type:\"text\",placeholder:\"Task name\",value:inputValue,onChange:function onChange(event){return setInputValue(event.target.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"add-task__buttons\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button\",onClick:addTask},\"Submit\"),/*#__PURE__*/React.createElement(\"button\",{className:\"button cancel-btn\",onClick:function onClick(){showPopUp(false);setInputValue(\"\");}},\"Close\"))));}","map":{"version":3,"sources":["/Users/maks/Git/todoapp/src/components/AddTask.jsx"],"names":["React","useState","axios","AddTask","onAddTask","list","popUp","showPopUp","inputValue","setInputValue","load","setLoad","addTask","alert","data","id","Math","random","listId","text","completed","post","then","response","console","log","catch","error","finally","event","target","value"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,cAAe,SAASC,CAAAA,OAAT,MAAoC,IAAlBC,CAAAA,SAAkB,MAAlBA,SAAkB,CAAPC,IAAO,MAAPA,IAAO,eACpBJ,QAAQ,CAAC,KAAD,CADY,wCACxCK,KADwC,eACjCC,SADiC,8BAEXN,QAAQ,CAAC,EAAD,CAFG,yCAExCO,UAFwC,eAE5BC,aAF4B,8BAGvBR,QAAQ,CAAC,KAAD,CAHe,yCAGxCS,IAHwC,eAGlCC,OAHkC,eAK/C,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAI,CAACJ,UAAL,CAAgB,CACZK,KAAK,CAAC,0CAAD,CAAL,CACA,OACH,CACDF,OAAO,CAAC,IAAD,CAAP,CAEA,GAAIG,CAAAA,IAAI,CAAG,CACPC,EAAE,CAAGC,IAAI,CAACC,MAAL,GAAc,IADZ,CAEPC,MAAM,CAAEb,IAAI,CAACU,EAFN,CAGPI,IAAI,CAAEX,UAHC,CAIPY,SAAS,CAAE,KAJJ,CAAX,CAMAlB,KAAK,CAACmB,IAAN,CAAW,gDAAX,CAA6DP,IAA7D,EACCQ,IADD,CACM,SAASC,QAAT,CAAkB,CACpBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACJ;AACK,CAJL,EAKKG,KALL,CAKW,SAASC,KAAT,CAAe,CAClBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACR;AACK,CARL,EASCL,IATD,CASM,UAAM,CACRlB,SAAS,CAACU,IAAD,CAAOT,IAAI,CAACU,EAAZ,CAAT,CACAN,aAAa,CAAC,EAAD,CAAb,CACAF,SAAS,CAAC,KAAD,CAAT,CACH,CAbD,EAcCmB,KAdD,CAcO,UAAI,CACPb,KAAK,CAAC,oBAAD,CAAL,CACH,CAhBD,EAiBCe,OAjBD,CAiBS,UAAI,CACTjB,OAAO,CAAC,KAAD,CAAP,CACH,CAnBD,EAoBH,CAjCD,CAmCA,mBACI,2BAAK,SAAS,CAAC,UAAf,EAEK,CAACL,KAAD,cACD,2BAAK,OAAO,CAAG,kBAAI,CAACC,SAAS,CAAC,IAAD,CAAT,CAAgB,CAApC,CAAuC,SAAS,CAAC,iBAAjD,oBADC,CAEEG,IAAI,cACP,2BAAK,SAAS,CAAC,iBAAf,iBADO,cAGP,2BAAK,SAAS,CAAC,iBAAf,eACI,6BACA,SAAS,CAAC,OADV,CAEA,IAAI,CAAC,MAFL,CAGA,WAAW,CAAC,WAHZ,CAIA,KAAK,CAAEF,UAJP,CAKA,QAAQ,CAAE,kBAACqB,KAAD,QAASpB,CAAAA,aAAa,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EALV,EADJ,cAOI,2BAAK,SAAS,CAAC,mBAAf,eACI,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAEnB,OAApC,WADJ,cAEI,8BAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAE,kBAAI,CAACL,SAAS,CAAC,KAAD,CAAT,CAAkBE,aAAa,CAAC,EAAD,CAAb,CAAkB,CAAxF,UAFJ,CAPJ,CAPJ,CADJ,CAuBH","sourcesContent":["import React, {useState}  from 'react'\nimport axios from 'axios'\n\nexport default function AddTask({onAddTask, list}) {\n    const [popUp, showPopUp] = useState(false);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [load, setLoad] = useState(false);\n    \n    const addTask = () => {\n        if (!inputValue){\n            alert(\"A task without a name? Excuese me mister\");\n            return;\n        }\n        setLoad(true);\n\n        let data = {\n            id: (Math.random()*1000),\n            listId: list.id,\n            text: inputValue, \n            completed: false}\n\n        axios.post('https://tojustdoit-api.herokuapp.com/tasks-add', data)\n        .then(function(response){\n            console.log(response);\n        //Perform action based on response\n            })\n            .catch(function(error){\n                console.log(error);\n        //Perform action based on error\n            })\n        .then(() => {\n            onAddTask(data, list.id);\n            setInputValue(\"\");\n            showPopUp(false)\n        })\n        .catch(()=>{\n            alert('Database error :((')\n        })\n        .finally(()=>{\n            setLoad(false);\n        })\n    }\n\n    return (\n        <div className=\"add-task\">\n            \n           { !popUp ? (\n            <div onClick={(()=>{showPopUp(true)})} className=\"add-task__title\"> + Add new task</div>\n           ) : load ? ( \n            <div className=\"add-task__title\"> Loading... </div>\n           ) : (\n            <div className=\"add-task__popup\">\n                <input \n                className=\"field\"\n                type=\"text\" \n                placeholder=\"Task name\"\n                value={inputValue}\n                onChange={(event)=>setInputValue(event.target.value)}/>\n                <div className=\"add-task__buttons\">\n                    <button className=\"button\" onClick={addTask} >Submit</button>\n                    <button className=\"button cancel-btn\" onClick={()=>{showPopUp(false); setInputValue(\"\")}}>Close</button>\n                </div>\n            </div>) \n            }       \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}