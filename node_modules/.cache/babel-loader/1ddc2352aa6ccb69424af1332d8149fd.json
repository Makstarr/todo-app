{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Git/todoapp/src/components/AddTask.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nexport default function AddTask({\n  onAddTask,\n  list\n}) {\n  const [popUp, showPopUp] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [load, setLoad] = useState(false);\n\n  const addTask = () => {\n    if (!inputValue) {\n      alert(\"A task without a name? Excuese me mister\");\n      return;\n    }\n\n    setLoad(true);\n    let data = {\n      id: Math.random() * 1000,\n      listId: list.id,\n      text: inputValue,\n      completed: false\n    };\n    axios.post('https://tojustdo-api.herokuapp.com/tasks-add', data).then(function (response) {\n      console.log(response); //Perform action based on response\n    }).catch(function (error) {\n      alert(`Database failed:${error}`); //Perform action based on error\n    }).then(() => {\n      onAddTask(data, list.id);\n      setInputValue(\"\");\n      showPopUp(false);\n    }).catch(() => {\n      alert('Database error :((');\n    }).finally(() => {\n      setLoad(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, !popUp ? /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      showPopUp(true);\n    },\n    className: \"add-task__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \" + Add new task\") : load ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \" Loading... \") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task__popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"field\",\n    type: \"text\",\n    placeholder: \"Task name\",\n    value: inputValue,\n    onChange: event => setInputValue(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task__buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button cancel-btn\",\n    onClick: () => {\n      showPopUp(false);\n      setInputValue(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Close\"))));\n}","map":{"version":3,"sources":["/Users/maks/Git/todoapp/src/components/AddTask.jsx"],"names":["React","useState","axios","AddTask","onAddTask","list","popUp","showPopUp","inputValue","setInputValue","load","setLoad","addTask","alert","data","id","Math","random","listId","text","completed","post","then","response","console","log","catch","error","finally","event","target","value"],"mappings":"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","sourcesContent":["import React, {useState}  from 'react'\nimport axios from 'axios'\n\nexport default function AddTask({onAddTask, list}) {\n    const [popUp, showPopUp] = useState(false);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [load, setLoad] = useState(false);\n    \n    const addTask = () => {\n        if (!inputValue){\n            alert(\"A task without a name? Excuese me mister\");\n            return;\n        }\n        setLoad(true);\n\n        let data = {\n            id: (Math.random()*1000),\n            listId: list.id,\n            text: inputValue, \n            completed: false}\n\n        axios.post('https://tojustdo-api.herokuapp.com/tasks-add', data)\n        .then(function(response){\n            console.log(response);\n        //Perform action based on response\n            })\n            .catch(function(error){\n                alert(`Database failed:${error}`);\n        //Perform action based on error\n            })\n        .then(() => {\n            onAddTask(data, list.id);\n            setInputValue(\"\");\n            showPopUp(false)\n        })\n        .catch(()=>{\n            alert('Database error :((')\n        })\n        .finally(()=>{\n            setLoad(false);\n        })\n    }\n\n    return (\n        <div className=\"add-task\">\n            \n           { !popUp ? (\n            <div onClick={(()=>{showPopUp(true)})} className=\"add-task__title\"> + Add new task</div>\n           ) : load ? ( \n            <div className=\"add-task__title\"> Loading... </div>\n           ) : (\n            <div className=\"add-task__popup\">\n                <input \n                className=\"field\"\n                type=\"text\" \n                placeholder=\"Task name\"\n                value={inputValue}\n                onChange={(event)=>setInputValue(event.target.value)}/>\n                <div className=\"add-task__buttons\">\n                    <button className=\"button\" onClick={addTask} >Submit</button>\n                    <button className=\"button cancel-btn\" onClick={()=>{showPopUp(false); setInputValue(\"\")}}>Close</button>\n                </div>\n            </div>) \n            }       \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}