{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Git/todo/src/components/Tasks.jsx\";\nimport React from 'react';\nimport AddTask from './AddTask';\nimport Task from './Task';\nimport Edit from \"../assets/img/edit.svg\";\nimport Remove from \"../assets/img/remove.svg\";\n\nfunction Tasks({\n  lists,\n  onEditTitle,\n  onAddTask,\n  onCompleteTask,\n  onDeleteTask,\n  onUpdateTask\n}) {\n  const editTitle = list => {\n    let newTitle = window.prompt('Write new list title', list.name);\n\n    if (newTitle) {\n      // changing state\n      onEditTitle(list.id, newTitle); // changing db\n\n      let data = {\n        id: list.id,\n        newName: newTitle\n      };\n      console.log(data);\n      fetch('/title-update', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;'\n        },\n        body: JSON.stringify(data)\n      }).catch(() => {\n        alert('Database error :((');\n      });\n    } else {\n      return;\n    }\n  };\n\n  const checkTask = task => {\n    // changing state\n    onCompleteTask(task.id, task.listId); // changing db\n\n    let data = task;\n    console.log(data);\n    fetch('/tasks-check', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;'\n      },\n      body: JSON.stringify(data)\n    }).catch(() => {\n      alert('Database error :((');\n    });\n  };\n\n  return lists.map(list => /*#__PURE__*/React.createElement(\"div\", {\n    key: list.id,\n    className: \"tasks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"tasks__title \" + list.color.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, list.name, /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => editTitle(list),\n    src: Edit,\n    alt: \"Edit icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tasks__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, list.tasks && list.tasks.length > 0 ? list.tasks.map(i => /*#__PURE__*/React.createElement(Task, {\n    key: i.id,\n    task: i,\n    checkTask: checkTask,\n    onDeleteTask: onDeleteTask,\n    onUpdateTask: onUpdateTask,\n    Edit: Edit,\n    Remove: Remove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"No tasks\")), /*#__PURE__*/React.createElement(AddTask, {\n    list: list,\n    onAddTask: onAddTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Tasks;","map":{"version":3,"sources":["/Users/maks/Git/todo/src/components/Tasks.jsx"],"names":["React","AddTask","Task","Tasks","lists","onEditTitle","onAddTask","onCompleteTask","onDeleteTask","onUpdateTask","editTitle","list","newTitle","window","prompt","name","id","data","newName","console","log","fetch","method","headers","body","JSON","stringify","catch","alert","checkTask","task","listId","map","color","Edit","tasks","length","i","Remove"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport AddTask from './AddTask'\nimport Task from './Task'\nimport Edit from '../assets/img/edit.svg';\nimport Remove from '../assets/img/remove.svg';\n\nfunction Tasks({lists, onEditTitle, onAddTask, onCompleteTask, onDeleteTask, onUpdateTask}) {\n    \n    const editTitle = (list) => {\n        let newTitle = window.prompt('Write new list title', list.name)\n        if (newTitle){\n            // changing state\n            onEditTitle(list.id, newTitle)\n            // changing db\n            let data = {id:list.id, newName:newTitle};\n            console.log(data)\n            fetch('/title-update',{\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json;'\n                },\n            body: JSON.stringify(data)})\n            .catch(()=>{\n                alert('Database error :((')\n            })\n        } else{\n            return;\n        }\n    }\n    const checkTask = (task) => {\n        // changing state\n        onCompleteTask(task.id, task.listId)\n        // changing db\n        let data = task;\n        console.log(data)\n        fetch('/tasks-check',{\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json;'\n            },\n            body: JSON.stringify(data)})\n            .catch(()=>{\n                alert('Database error :((')\n            })\n\n    }\n    return (\n        lists.map(list=>(\n        <div key={list.id} className=\"tasks\">\n                <h2 className={\"tasks__title \" + list.color.name}>\n                    {list.name}\n                    <img onClick={()=>editTitle(list)} src={Edit} alt=\"Edit icon\"/> \n                </h2>\n                <ul className=\"tasks__items\">\n                {list.tasks&&list.tasks.length > 0 ? (list.tasks.map((i) => (\n                    <Task \n                    key={i.id} \n                    task={i} \n                    checkTask={checkTask}\n                    onDeleteTask ={onDeleteTask}\n                    onUpdateTask={onUpdateTask}\n                    Edit = {Edit}\n                    Remove={Remove}\n                    />\n                    ))) :\n                    <h2>No tasks</h2>} \n                </ul>\n                <AddTask \n                list = {list}  \n                onAddTask={onAddTask}\n                />\n        </div>\n        ))\n    )\n}\n\nexport default Tasks;"]},"metadata":{},"sourceType":"module"}