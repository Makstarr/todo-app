{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Git/todo/src/components/AddTask.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nexport default function AddTask({\n  onAddTask,\n  list\n}) {\n  const [popUp, showPopUp] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [load, setLoad] = useState(false);\n\n  const addTask = () => {\n    if (!inputValue) {\n      alert(\"A task without a name? Excuese me mister\");\n      return;\n    }\n\n    setLoad(true);\n    axios.post('http://localhost:3001/tasks', {\n      id: Math.random(),\n      listId: list.id,\n      text: inputValue,\n      completed: false\n    }).then(({\n      data\n    }) => {\n      onAddTask(data, list.id);\n      setInputValue(\"\");\n      showPopUp(true);\n    }).finally(() => {\n      setLoad(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, !popUp ? /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      showPopUp(true);\n    },\n    className: \"add-task__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \" + Add new task\") : load ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \" Loading... \") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-task__popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"field\",\n    type: \"text\",\n    placeholder: \"Task name\",\n    value: inputValue,\n    onChange: event => setInputValue(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"sources":["/Users/maks/Git/todo/src/components/AddTask.jsx"],"names":["React","useState","useEffect","axios","AddTask","onAddTask","list","popUp","showPopUp","inputValue","setInputValue","load","setLoad","addTask","alert","post","id","Math","random","listId","text","completed","then","data","finally","event","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,OAAT,CAAiB;AAACC,EAAAA,SAAD;AAAYC,EAAAA;AAAZ,CAAjB,EAAoC;AAC/C,QAAM,CAACC,KAAD,EAAQC,SAAR,IAAqBP,QAAQ,CAAC,KAAD,CAAnC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,KAAD,CAAhC;;AAGA,QAAMY,OAAO,GAAG,MAAM;AAClB,QAAI,CAACJ,UAAL,EAAgB;AACZK,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACH;;AACDF,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAT,IAAAA,KAAK,CAACY,IAAN,CAAW,6BAAX,EAA0C;AACtCC,MAAAA,EAAE,EAAEC,IAAI,CAACC,MAAL,EADkC;AAEtCC,MAAAA,MAAM,EAAEb,IAAI,CAACU,EAFyB;AAGtCI,MAAAA,IAAI,EAAEX,UAHgC;AAItCY,MAAAA,SAAS,EAAE;AAJ2B,KAA1C,EAMCC,IAND,CAMM,CAAC;AAACC,MAAAA;AAAD,KAAD,KAAY;AACdlB,MAAAA,SAAS,CAACkB,IAAD,EAAOjB,IAAI,CAACU,EAAZ,CAAT;AACAN,MAAAA,aAAa,CAAC,EAAD,CAAb;AACAF,MAAAA,SAAS,CAAC,IAAD,CAAT;AACH,KAVD,EAWCgB,OAXD,CAWS,MAAI;AACTZ,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KAbD;AAcH,GApBD;;AAsBA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEK,CAACL,KAAD,gBACD;AAAK,IAAA,OAAO,EAAG,MAAI;AAACC,MAAAA,SAAS,CAAC,IAAD,CAAT;AAAgB,KAApC;AAAuC,IAAA,SAAS,EAAC,iBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADC,GAEEG,IAAI,gBACP;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADO,gBAGP;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACA,IAAA,SAAS,EAAC,OADV;AAEA,IAAA,IAAI,EAAC,MAFL;AAGA,IAAA,WAAW,EAAC,WAHZ;AAIA,IAAA,KAAK,EAAEF,UAJP;AAKA,IAAA,QAAQ,EAAGgB,KAAD,IAASf,aAAa,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CALhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI;AAAQ,IAAA,OAAO,EAAEd,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,CAPJ,CADJ;AAoBH","sourcesContent":["import React, {useState, useEffect}  from 'react'\nimport axios from 'axios'\n\nexport default function AddTask({onAddTask, list}) {\n    const [popUp, showPopUp] = useState(false);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [load, setLoad] = useState(false);\n\n    \n    const addTask = () => {\n        if (!inputValue){\n            alert(\"A task without a name? Excuese me mister\");\n            return;\n        }\n        setLoad(true);\n        axios.post('http://localhost:3001/tasks', {\n            id: Math.random(),\n            listId: list.id,\n            text: inputValue, \n            completed: false}\n        )\n        .then(({data}) => {\n            onAddTask(data, list.id);\n            setInputValue(\"\");\n            showPopUp(true)\n        })\n        .finally(()=>{\n            setLoad(false);\n        })\n    }\n\n    return (\n        <div className=\"add-task\">\n            \n           { !popUp ? (\n            <div onClick={(()=>{showPopUp(true)})} className=\"add-task__title\"> + Add new task</div>\n           ) : load ? ( \n            <div className=\"add-task__title\"> Loading... </div>\n           ) : (\n            <div className=\"add-task__popup\">\n                <input \n                className=\"field\"\n                type=\"text\" \n                placeholder=\"Task name\"\n                value={inputValue}\n                onChange={(event)=>setInputValue(event.target.value)}/>\n                <button onClick={addTask} >Submit</button>\n            </div>) \n            }       \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}