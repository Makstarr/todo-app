(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{19:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/close.077e1d78.svg"},22:function(e,t,a){e.exports=a.p+"static/media/list.b7ea4b70.svg"},23:function(e,t,a){e.exports=a.p+"static/media/do-it.4e1807e1.png"},24:function(e,t,a){e.exports=a(51)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(20),o=a.n(i),s=a(9),l=a(1),r=a(3),u=a.n(r),m=a(4),d=a.n(m),p=a(7),f=a.n(p),k=function(e){var t=e.items,a=e.isRemovable,n=e.onClickAdd,i=e.onClickItem,o=e.onRemove,s=e.activeItem;return c.a.createElement("ul",{onClick:n,className:"todo__list"},t?t.map((function(e,t){return c.a.createElement("li",{key:t,className:d()(e.className,{active:s&&s.id===e.id}),onClick:function(){return i?i(e):"none"}},e.icon?c.a.createElement("div",{className:"i"},e.icon):c.a.createElement("div",{className:d()("circle",e.color.name,"i")},e.tasks&&e.tasks.length>0?e.tasks.length:""),c.a.createElement("span",null,e.name),a?c.a.createElement("button",{className:"list__remove-icon",onClick:function(){return function(e){if(window.confirm("Are you sure you wanna delete this whole list?")){var t={id:e.id};o(e.id),u.a.post("https://tojustdoit-api.herokuapp.com/lists-delete",t).then((function(e){console.log(e)})).catch((function(){alert("Database error :((")}))}}(e)}},c.a.createElement("img",{src:f.a,alt:"Remove the list button"})):"")})):"")},h=a(21),v=a.n(h),E=function(e){var t=e.onAdd,a=e.colors,i=Object(n.useState)(!1),o=Object(l.a)(i,2),s=o[0],r=o[1],m=Object(n.useState)(1),p=Object(l.a)(m,2),f=p[0],h=p[1],E=Object(n.useState)(""),b=Object(l.a)(E,2),g=b[0],_=b[1],j=Object(n.useState)(!1),N=Object(l.a)(j,2),w=N[0],x=N[1];Object(n.useEffect)((function(){a&&h(a[0].id)}),[a]);return c.a.createElement("div",{className:"add-list"},c.a.createElement(k,{onClickAdd:function(){return r(!s)},items:[{className:"add-list__button",icon:c.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 1V15",stroke:"#eeeeee",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M1 8H15",stroke:"#eeeeee",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),name:"Add list"}],isRemovable:!1}),s&&c.a.createElement("div",{className:"add-list__popup"},c.a.createElement("button",{onClick:function(){return r(!1)},className:"add-list__close"},c.a.createElement("i",null,c.a.createElement("img",{src:v.a,alt:"CLOSE POPUP"}))),c.a.createElement("input",{className:"field",type:"text",maxLength:"250",placeholder:"Task name",value:g,onChange:function(e){return _(e.target.value)}}),c.a.createElement("ul",{className:"add-list__colors"},a.map((function(e){return c.a.createElement("li",{onClick:function(){return h(e.id)},key:e.id,className:d()("add-list__circle",e.name,{active:e.id===f})})}))),c.a.createElement("button",{onClick:function(){if(g){x(!0);var e={name:g,colorId:f,color:a.find((function(e){return e.id===f})),tasks:[]};u.a.post("https://tojustdoit-api.herokuapp.com/lists-add",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).finally((function(){t(e),r(!s),_(""),h(a[0].id),x(!1)}))}else alert("A list without a name? Excuese me mister")},className:"add-list__button button"},w?"Working...":"Add list")))};function b(e){var t=e.onAddTask,a=e.list,i=Object(n.useState)(!1),o=Object(l.a)(i,2),s=o[0],r=o[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),p=d[0],f=d[1],k=Object(n.useState)(!1),h=Object(l.a)(k,2),v=h[0],E=h[1];return c.a.createElement("div",{className:"add-task"},s?v?c.a.createElement("div",{className:"add-task__title"}," Loading... "):c.a.createElement("div",{className:"add-task__popup"},c.a.createElement("input",{className:"field",type:"text",placeholder:"Task name",value:p,onChange:function(e){return f(e.target.value)}}),c.a.createElement("div",{className:"add-task__buttons"},c.a.createElement("button",{className:"button",onClick:function(){if(p){E(!0);var e={id:1e3*Math.random(),listId:a.id,text:p,completed:!1};u.a.post("https://tojustdoit-api.herokuapp.com/tasks-add",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).then((function(){t(e,a.id),f(""),r(!1)})).catch((function(){alert("Database error :((")})).finally((function(){E(!1)}))}else alert("A task without a name? Excuese me mister")}},"Submit"),c.a.createElement("button",{className:"button cancel-btn",onClick:function(){r(!1),f("")}},"Close"))):c.a.createElement("div",{onClick:function(){r(!0)},className:"add-task__title"}," + Add new task"))}function g(e){var t=e.task,a=e.checkTask,i=e.onDeleteTask,o=e.onUpdateTask,s=e.Remove,r=Object(n.useState)(t.text),m=Object(l.a)(r,2),p=m[0],f=m[1],k=Object(n.useState)(!0),h=Object(l.a)(k,2),v=h[0],E=h[1];return c.a.createElement("li",{key:t.id,className:"tasks__item"},c.a.createElement("div",{className:"checkbox"},c.a.createElement("input",{id:"check-"+t.id,type:"checkbox",checked:t.completed,onChange:function(){return a(t)}}),c.a.createElement("label",{htmlFor:"check-"+t.id},c.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("textarea",{className:d()("tasks__item-text",{"line-through":t.completed}),type:"text",value:p,onChange:function(e){return function(e){f(e.target.value),E(!1)}(e)}}),c.a.createElement("div",{className:"tasks__item-buttons"},c.a.createElement("div",{className:"tasks__item-submit"},c.a.createElement("input",{className:"tasks__item-saveChange-check",id:"submit-"+t.id,type:"checkbox",checked:v,onChange:function(){return function(e,t){o(e,t,p);var a={id:e,newText:p};u.a.post("https://tojustdoit-api.herokuapp.com/tasks-update",a).then((function(e){console.log(e)})).catch((function(){alert("Database error :((")})).finally((function(){E(!0)}))}(t.id,t.listId)}}),c.a.createElement("label",{className:"tasks__item-saveChange",htmlFor:"submit-"+t.id},c.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 49 49",fill:"#fff"},c.a.createElement("g",null,c.a.createElement("rect",{x:"27.5",y:"5",width:"6",height:"10"}),c.a.createElement("path",{d:"M39.914,0H0.5v49h48V8.586L39.914,0z M10.5,2h26v16h-26V2z M39.5,47h-31V26h31V47z"}),c.a.createElement("path",{d:"M13.5,32h7c0.553,0,1-0.447,1-1s-0.447-1-1-1h-7c-0.553,0-1,0.447-1,1S12.947,32,13.5,32z"}),c.a.createElement("path",{d:"M13.5,36h10c0.553,0,1-0.447,1-1s-0.447-1-1-1h-10c-0.553,0-1,0.447-1,1S12.947,36,13.5,36z"}),c.a.createElement("path",{d:"M26.5,36c0.27,0,0.52-0.11,0.71-0.29c0.18-0.19,0.29-0.45,0.29-0.71s-0.11-0.521-0.29-0.71c-0.37-0.37-1.04-0.37-1.41,0 c-0.19,0.189-0.3,0.439-0.3,0.71c0,0.27,0.109,0.52,0.29,0.71C25.979,35.89,26.229,36,26.5,36z"}))))),c.a.createElement("img",{className:"tasks__item-delete",onClick:function(){return function(e,t){i(e,t);var a={id:e};fetch("/tasks-delete",{method:"POST",headers:{"Content-Type":"application/json;"},body:JSON.stringify(a)}).catch((function(){alert("Database error :((")}))}(t.id,t.listId)},src:s,alt:"Remove icon"})))}var _=a(8),j=a.n(_);var N=function(e){var t=e.lists,a=e.onEditTitle,n=e.onAddTask,i=e.onCompleteTask,o=e.onDeleteTask,s=e.onUpdateTask,l=function(e){i(e.id,e.listId);var t=e;u.a.post("https://tojustdoit-api.herokuapp.com/tasks-check",t).then((function(e){console.log(e)})).catch((function(){alert("Database error :((")}))};return t.map((function(e){return c.a.createElement("div",{key:e.id,className:"tasks"},c.a.createElement("h2",{className:"tasks__title "+e.color.name},e.name,c.a.createElement("img",{onClick:function(){return function(e){var t=window.prompt("Write new list title",e.name);if(t){a(e.id,t);var n={id:e.id,newName:t};u.a.post("https://tojustdoit-api.herokuapp.com/title-update",n).then((function(e){console.log(e)})).catch((function(){alert("Database error :((")}))}}(e)},src:j.a,alt:"Edit icon"})),c.a.createElement("ul",{className:"tasks__items"},e.tasks&&e.tasks.length>0?e.tasks.map((function(e){return c.a.createElement(g,{key:e.id,task:e,checkTask:l,onDeleteTask:o,onUpdateTask:s,Edit:j.a,Remove:f.a})})):c.a.createElement("h2",null,"No tasks")),c.a.createElement(b,{list:e,onAddTask:n}))}))},w=a(22),x=a.n(w),O=a(23),C=a.n(O);a(46),a(19),a(47),a(48),a(49),a(50);var T=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(null),r=Object(l.a)(o,2),u=r[0],m=r[1],d=Object(n.useState)({allTasks:!0}),p=Object(l.a)(d,2),f=p[0],h=p[1];return Object(n.useEffect)((function(){fetch("https://tojustdoit-api.herokuapp.com/colors").then((function(e){return e.json()})).then((function(e){m(e)})),fetch("https://tojustdoit-api.herokuapp.com/lists").then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"todo"},c.a.createElement("section",{className:"todo__sidebar"},c.a.createElement(k,{items:[{icon:c.a.createElement("img",{src:x.a,alt:"list icon"}),name:"All tasks",allTasks:!0,active:!0}],activeItem:f,onClickItem:function(e){e.active=!0,h(e)},isRemovable:!1}),a?c.a.createElement(k,{items:a,onRemove:function(e){return i(a.filter((function(t){return t.id!==e})))},onClickItem:function(e){e.active=!0,h(e)},activeItem:f,isRemovable:!0}):c.a.createElement("div",{style:{padding:"10px"}},"Loading..."),c.a.createElement(E,{onAdd:function(e){i([].concat(Object(s.a)(a),[e]))},colors:u}),c.a.createElement("img",{className:"shai",src:C.a,alt:"list icon"})),c.a.createElement("section",{className:"todo__tasks"},a?c.a.createElement(N,{onEditTitle:function(e,t){var n=a.map((function(a){return a.id===e&&(a.name=t),a}));i(n)},lists:f.allTasks?a:[f],onAddTask:function(e,t){i(a.map((function(a){return a.id===t&&(a.tasks=[].concat(Object(s.a)(a.tasks),[e])),a})))},onCompleteTask:function(e,t){i(a.map((function(a){return a.id===t&&a.tasks.map((function(t){return t.id===e&&(t.completed=!t.completed),t})),a})))},onDeleteTask:function(e,t){i(a.map((function(a){return a.id===t&&(a.tasks=a.tasks.filter((function(t){return t.id!==e}))),a})))},onUpdateTask:function(e,t,n){i(a.map((function(a){return a.id===t&&(a.tasks.find((function(t){return t.id===e})).text=n),a})))}}):"")))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root"))},7:function(e,t,a){e.exports=a.p+"static/media/remove.4d68f77a.svg"},8:function(e,t,a){e.exports=a.p+"static/media/edit.78ee146b.svg"}},[[24,1,2]]]);
//# sourceMappingURL=main.2666efe0.chunk.js.map